# 🌐 RESTful API 정의와 사용 방법

## 1. API란?

**API (Application Programming Interface)**  
→ 프로그램들이 서로 **효과적으로 상호작용할 수 있도록** 데이터와 기능의 집합을 제공하는 도구입니다.

- 프로그램 간 **소통을 원활하게** 하고, 기능을 통해 **데이터를 교환**할 수 있도록 하는 인터페이스
- 여러 **애플리케이션, 시스템, 서비스가 통합**되어 작동할 수 있게 함
- 예:
  - 카카오 로그인 API
  - 네이버 지도 API
  - 날씨 정보 Open API 등

---

## 2. REST API

### 2-1. REST란?

**REST (Representational State Transfer)**  
→ 웹에서 자원을 정의하고 자원에 대한 CRUD 작업을 HTTP 방식으로 수행하도록 설계된 **아키텍처 스타일**

- HTTP 프로토콜 기반
- 자원을 **URI**로 식별하고, **HTTP 메서드(GET, POST, PUT, DELETE)** 로 조작
- 두 시스템이 인터넷을 통해 **안전하고 일관성 있게 데이터를 교환**하기 위한 인터페이스 방식

---

### 2-2. REST의 특징

| 특징                                      | 설명                                                                                                        |
| ----------------------------------------- | ----------------------------------------------------------------------------------------------------------- |
| **클라이언트-서버 구조**                  | 클라이언트와 서버는 서로 독립적으로 개발 및 배포 가능<br>클라이언트는 UI 담당, 서버는 자원 관리와 로직 담당 |
| **무상태성 (Stateless)**                  | 서버는 클라이언트의 상태를 저장하지 않음<br>모든 요청은 완전한 정보를 포함해야 함                           |
| **캐시 가능성 (Cacheable)**               | HTTP 캐싱을 통해 네트워크 트래픽 감소 및 성능 향상 가능                                                     |
| **통일된 인터페이스 (Uniform Interface)** | 일관된 규칙으로 자원을 다룸 — URI로 자원 식별, 메시지 기반 조작, 자기 서술적 메시지, HATEOAS 지원           |
| **계층화 시스템 (Layered System)**        | 클라이언트는 서버에 직접 연결되거나 프록시, 로드밸런서, API 게이트웨이를 통해 간접 연결 가능                |

---

### 2-3. REST API의 구성 요소

1. **자원 (Resource)** — _URL_  
   → 서버에 존재하는 데이터 (ex: `/users/1`)
2. **행위 (Verb)** — _HTTP Method_  
   → `GET`, `POST`, `PUT`, `DELETE` 등으로 자원을 조작
3. **표현 (Representation)** — _JSON, XML 등_  
   → 자원의 상태나 데이터를 표현하는 형태

---

## 3. RESTful API

**REST 원칙을 따르는 API**  
→ HTTP와 URI를 기반으로 자원에 접근하고 CRUD를 수행하는 구조로,  
요청만 봐도 어떤 동작을 하는지 직관적으로 이해할 수 있습니다.

---

### 3-1. RESTful API 설계 규칙

| 항목                            | 규칙                                         | 예시                                   |
| ------------------------------- | -------------------------------------------- | -------------------------------------- |
| **1. URI에 자원 명시**          | URI는 자원을 의미해야 함                     | `GET /api/posts/1`                     |
| **2. URI 구분자**               | `/`로 계층 표현                              | `GET /api/users/1/posts`               |
| **3. URI 마지막에 슬래시 없음** | `/api/posts/` ❌ → `/api/posts` ✅           |
| **4. 하이픈(-) 사용**           | 여러 단어는 하이픈으로 연결                  | `/api/categories/electronics-products` |
| **5. 소문자 사용**              | URI는 항상 소문자                            | `/api/products`                        |
| **6. 확장자 사용 금지**         | `/api/posts.json` ❌                         |
| **7. Query Parameter 사용**     | 검색 시 Query Parameter 활용                 | `/api/products?category=electronics`   |
| **8. 리소스 간 관계 표현**      | 관계를 URI 계층 구조로 표현                  | `/api/users/{userId}/devices`          |
| **9. 컬렉션/도큐먼트 구분**     | 복수형(컬렉션), 단수형(도큐먼트) 명확히 구분 | `/api/sports/football/players/10`      |

---

### 3-2. RESTful API 개발 원칙

| 원칙                      | 설명                                                                            |
| ------------------------- | ------------------------------------------------------------------------------- |
| **1. 자원 식별 가능**     | URI만으로 어떤 자원을 제어하는지 명확해야 함                                    |
| **2. 행위 명시적**        | HTTP 메서드로 동작을 표현 (`GET`, `POST`, `PUT`, `DELETE`)                      |
| **3. 자기 서술적 메시지** | 데이터 자체로 의미를 이해할 수 있어야 함                                        |
| **4. HATEOAS**            | 응답에 다음 가능한 행동(링크)을 포함시켜 클라이언트가 동적으로 탐색 가능하게 함 |

---

## 4. RESTful API 사용 방법

### 4-1. 요청 (Request)

**요소**

- **URL**: 자원 식별자 (엔드포인트)
- **Method**: 수행할 작업 (`GET`, `POST`, `PUT`, `DELETE`)
- **Header**: 요청 및 응답 관련 메타데이터
- **Parameter**
  - 경로(Path): `/api/posts/1`
  - 쿼리(Query): `/api/posts?category=tech`
  - 쿠키(Cookie): 인증 정보

**예시**

```http
GET /api/posts/1 HTTP/1.1
Host: example.com
Accept: application/json
```
